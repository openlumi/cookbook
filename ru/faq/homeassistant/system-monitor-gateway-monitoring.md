# System Monitor   –º–æ–Ω–∏—Ç–æ—Ä–∏–º —à–ª—é–∑

–° –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ System Monitor –º—ã –º–æ–∂–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —à–ª—é–∑, –∑–Ω–∞—Ç—å –µ–≥–æ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, —Å–≤–æ–±–æ–¥–Ω—ã–π –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–∞ —à–ª—é–∑–µ –∏ —Ç.–¥. –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ —á–∏—Ç–∞–µ–º –ø—Ä–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é System Monitor [–∑–¥–µ—Å—å](https://www.home-assistant.io/integrations/systemmonitor/)

![System Monitor](https://github.com/DivanX10/Openwrt-scripts-for-gateway-zhwg11lm/blob/main/image/system%20monitor.JPG)

–î–ª—è —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç `python3-psutil`. –î–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç —Å—Ç–∞–≤–∏–º —á–µ—Ä–µ–∑ LuCI

![python3-psutil](https://github.com/DivanX10/Openwrt-scripts-for-gateway-zhwg11lm/blob/main/image/install%20python3-psutil.jpg)

***

[–°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤–Ω—ã–π —Ñ–∞–π–ª](https://github.com/home-assistant/core/tags) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ Home Assistant –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –ø–∞–ø–∫—É `systemmonitor`. –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ `core-–≥–æ–¥.–º–µ—Å—è—Ü.—á–∏—Å–ª–æ.zip\core-–≥–æ–¥.–º–µ—Å—è—Ü.—á–∏—Å–ª–æ\homeassistant\components\systemmonitor` –∏ –∫–æ–ø–∏—Ä—É–µ–º –ø–∞–ø–∫—É `systemmonitor` –≤ /usr/lib/python3.9/site-packages/homeassistant-XXXX.XX.XX-py3.9.egg/homeassistant/components, –≥–¥–µ homeassistant-XXXX.XX.XX-py3.9.egg —ç—Ç–æ –≤–µ—Ä—Å–∏—è –≤–∞—à–µ–≥–æ Home Assistant

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ —á–∏—Ç–∞–µ–º —Å—Ç–∞—Ç—å—é [–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Home Assistant?](https://github.com/DivanX10/Openwrt-scripts-for-gateway-zhwg11lm/wiki/–ö–∞–∫-—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å-–Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–¥–ª—è-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏-Home-Assistant%3F)


***
–î–æ–±–∞–≤–∏–º —Å—Ç—Ä–æ–∫–∏ –≤ `configuration.yaml` —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ –ø—É—Ç–∏ `/etc/homeassistant/configuration.yaml`. –ù–∏–∂–µ –º–æ–π —Ä–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –∏ –º–Ω–µ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏ —Å–µ–Ω—Å–æ—Ä—ã —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ [System Monitor](https://www.home-assistant.io/integrations/systemmonitor/)

> –í–∞–∂–Ω–æ! –°–µ–Ω—Å–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —è –≤–∑—è–ª —Å –ø–∞–∫–µ—Ç–∞ `lumimqttd` (—á–∏—Ç–∞–µ–º –Ω–∏–∂–µ).

```
# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, –∑–∞–Ω—è—Ç–æ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ, —Å–≤–æ–±–æ–¥–Ω–æ –û–ó–£, –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–≥—Ä—É–∑–∫–∞.
sensor:
  - platform: systemmonitor
    resources:
      - type: disk_use_percent
        arg: /
      - type: disk_free
        arg: /
      - type: memory_free
      - type: memory_use_percent
      - type: processor_use
      - type: last_boot     
      - type: ipv4_address
        arg: wlan0
      - type: load_1m
```


## lumimqttd
> –ü–∞–∫–µ—Ç lumimqttd, —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —à–ª—é–∑–∞, –∞ —Ç–∞–∫–∂–µ –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –∏–º–µ–µ—Ç –¥–∞—Ç—á–∏–∫ —Å–≤–µ—Ç–∞. –ü–æ–∫–∞ –Ω–µ –∏–º–µ–µ—Ç —Å–µ–Ω—Å–æ—Ä–∞ –∫–Ω–æ–ø–∫–∏, –≤–æ–∑–º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤—è—Ç —Ç–∞–∫—É—é –æ–ø—Ü–∏—é. lumimqtt –∏ lumimqttd –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ –∏ –±—É–¥—É—Ç –¥–æ–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞

**–ß—Ç–æ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å lumimqttd?**
```
–í –Ω–µ–º –µ—Å—Ç—å:
# –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ü§ñ auto discovery –¥–ª—è homeassistant, 
# –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏ üéÉ 
# –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç–∏ üëÅ
# –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –∑–≤—É–∫ —á–µ—Ä–µ–∑ mqtt  ü¶ª( —Å—Å—ã–ª–∫–∞ –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TTSüó£)  
# —É–ø—Ä–∞–≤–ª—è—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å—é –∫–∞–Ω–∞–ª–æ–≤ ( —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏ )
# –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –ø–æ mqtt
```

–ü–∞–∫–µ—Ç lumimqttd –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å [–∑–¥–µ—Å—å](https://t.me/xiaomi_gw_hack/144897)
